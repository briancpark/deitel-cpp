<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Behavior Class</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/DA_E0121.htm','/DA_E0000.htm','/DA_E0116.htm','/index.htm','/DA_E0123.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="dxmref_0001070106000000">Behavior Class</A></H2>
<BR CLEAR=ALL>
<PRE><FONT FACE="Courier" SIZE="2">public class Behavior extends java.lang.Object {
    // Methods
    public Behavior bvrHook(BvrCallback callback);
    public Behavior debug();
    public Behavior debug(String name);
    public Behavior debug(String name, boolean onStart);
    public Behavior debug(String name, boolean onStart, PrintStream std);
    public Behavior duration(NumberBvr length)
    public Object extract();
    public void init(Behavior a);
    public Behavior repeat(int repetitions);
    public Behavior repeatForever();
    public Behavior runOnce();
    public Behavior substituteTime(NumberBvr a);
    
}
</FONT></PRE>
<P>All behaviors are potentially time-varying and/or reactive values such as colors, numbers and images. They can be used to construct animated objects. All behavior subclasses inherit the methods of this class.

<P>Because all behaviors are potentially time-varying and/or reactive, their values can change as a function of time or as the result of user input. Time-varying behaviors are created by combining time-based default behaviors (such as <A HREF="DA_E0185.htm#dxmref_0001070145000002" TARGET="TEXT">localTime</A>) with other behaviors. Reactive behaviors are created using the <B>until</B>, <A HREF="DA_E0158.htm#dxmref_000107012a000400" TARGET="TEXT">untilEx</A>, and <B>untilNotify</B> methods and specifying input events, such as mouse clicks. Complex behaviors can be built by combining existing behaviors. The value of a complex behavior always depends on the values of the behaviors that comprise it.

<P>Behaviors are started either by the <A HREF="DA_E0144.htm#dxmref_000107011c020700" TARGET="TEXT">createModel</A> method (which means they start at time = 0) or with the <A HREF="DA_E0208.htm" TARGET="TEXT">untilNotify.notify</A> method, when they are started at the event time. When a behavior runs, its time-varying and reactive qualities are active. This means the user can experience any changes that occur in the behavior as time passes or events occur.

<P>In order to type-check behaviors, all behavior types must be known at construction time. This is why there is no <B>Behavior.newUninitBvr()</B> method included in the <B>Behavior</B> class.

notifier);
<UL><LI><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010000" TARGET="TEXT">Methods</A>
<LI><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106020000" TARGET="TEXT">Relevant Methods from the Statics Class</A>
</UL>
<H3><A NAME="dxmref_0001070106010000">Methods</A></H3>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010100" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">bvrHook</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010200" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">debug</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010300" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">debug</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010400" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">debug</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010500" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">debug</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010600" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">duration</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010700" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">extract</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010800" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">init</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010900" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">repeat</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010a00" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">repeatForever</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010b00" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">runOnce</A><BR>
<P><A CLASS=tctop HREF="DA_E0122.htm#dxmref_0001070106010c00" TARGET=TEXT><IMG SRC="../art/bullet1.gif" WIDTH="5" HEIGHT="11" BORDER=0 ALT="bullet1.gif">substituteTime</A><BR>
<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010100">bvrHook</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Allows a running behavior to be sampled. 

<P><B>public</B> <B>Behavior</B> <B>bvrHook</B><B>(</B><BR>&nbsp;&nbsp;<B>BvrCallback</B> <I>callback</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>callback</I>
 </DT><DD>The <A HREF="DA_E0124.htm" TARGET="TEXT">BvrCallback</A> interface containing the notify method.
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object that is the value of the running behavior at the time it was sampled.


<H5>See Also</H5>
<P><A HREF="DA_E0124.htm" TARGET="TEXT">BvrCallback</A>

<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010200">debug</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Gives the following information about a running behavior:
<UL><LI>An integer number (the ID), which distinguishes each instance of the behavior.
<LI>The global time that the behavior was started.
<LI>The value of the behavior at the time it was started.
</UL>
<P>The method assumes the following defaults:
<UL><LI>The behavior is unnamed.
<LI>The information is displayed each time an instance of the behavior is started.
<LI>The information is displayed on the standard output.
</UL>
<P>The following example shows that, when it was started, the second instance of a behavior was started at a global time of 39.66 seconds, and had a value of 0.5:

<PRE><FONT FACE="Courier" SIZE="2">
2 started at 39.66 result = 0.5
</FONT></PRE>
<P><B>public</B> <B>Behavior</B> <B>debug</B><B>(</B> <B>)</B><B>;</B><BR><H5>Remarks</H5>
<P>This method is unavailable to viewers that don't display the standard output.

<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010300">debug</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Gives the following information about a running behavior:
<UL><LI>The name of the behavior.
<LI>An integer number (the ID), which distinguishes each instance of the behavior.
<LI>The global time that the behavior was started.
<LI>The value of the behavior at the time it was started.
</UL>
<P>The method assumes the following defaults:
<UL><LI>The information is displayed each time an instance of the behavior is started.
<LI>The information is displayed on the standard output.
</UL>
<P>The following example shows that, when it was started, the second instance of a behavior called "b" was started at a global time of 39.66 seconds, and had a value of 0.5:

<PRE><FONT FACE="Courier" SIZE="2">
"b" 2 started at 39.66 result = 0.5
</FONT></PRE>
<P>The next example displays a solid-colored image whose red and green components are 1, and whose blue component is time-varying. The NumberBvr x initially has a value of "b" (a value that varies over time). When the left button of the mouse is pressed, "b" (and therefore, "x" starts all over again, with a value of 0.5.

<P>The debugging information (shown in the previous example) is displayed each time the left mouse button is pressed.


<PRE><FONT FACE="Courier" SIZE="2">
import com.ms.dxmedia.*;

public class DebugTest extends DXMApplet{
  public DebugTest() {
    // Set the model
    setModel(new DebugTestModel()) ;
  } 
}

class DebugTestModel extends Model {
  public void createModel(BvrsToRun extraBvrsToRun) {
      NumberBvr b = (NumberBvr) add(localTime, toBvr(0.5)).Debug("b");

      NumberBvr x = NumberBvr.newUninitBvr();
      x.init(until(b, leftButtonDown, x));
      
      ImageBvr model = solidColorImage(colorRgb(toBvr(1), toBvr(1), x));

      setImage(model);
  }
}       

</FONT></PRE>
<P><B>public</B> <B>Behavior</B> <B>debug</B><B>(</B><BR>&nbsp;&nbsp;<B>String</B> <I>name</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>name</I>
 </DT><DD>The name of the behavior.
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H5>Remarks</H5>
<P>This method is unavailable to viewers that don't display the standard output.

<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010400">debug</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Gives the following information about a running behavior:
<UL><LI>The name of the behavior.
<LI>An integer number (the ID), which distinguishes each instance of the behavior.
<LI>The global time that the behavior was started or sampled.
<LI>The local time that the behavior was sampled. (If debug is being called when the behavior is started, then the local time is 0, which is not displayed.)
<LI>The value of the behavior at the time it was started or sampled.
</UL>
<P>This method assumes the information is displayed on the standard output.

<P>The following example shows that, when it was started, the second instance of a behavior called "b" was started at a global time of 39.66 seconds, and had a value of 0.5:

<PRE><FONT FACE="Courier" SIZE="2">
"b" 2 started at 39.66 result = 0.5
</FONT></PRE>
<P><B>public</B> <B>Behavior</B> <B>debug</B><B>(</B><BR>&nbsp;&nbsp;<B>String</B> <I>name</I><B>,</B><BR>&nbsp;&nbsp;<B>boolean</B> <I>onStart</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>name</I>
 </DT><DD>The name of the behavior.
</DD><DT><I>onStart</I>
 </DT><DD>If true, the <B>debug</B> method is called when the behavior is started. If false, the method is called whenever the behavior is sampled. The default is true. 
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H5>Remarks</H5>
<P>This method is unavailable to viewers that don't display the standard output.

<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010500">debug</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Gives the following information about a running behavior:
<UL><LI>The name of the behavior.
<LI>An integer number (the ID), which distinguishes each instance of the behavior.
<LI>The global time that the behavior was started or sampled.
<LI>The local time that the behavior was sampled. (If debug is being called when the behavior is started, then the local time is 0, which is not displayed.)
<LI>The value of the behavior at the time it was started or sampled.
</UL>
<P>The following example shows that, when it was started, the second instance of a behavior called "b" was started at a global time of 39.66 seconds, and had a value of 0.5:

<PRE><FONT FACE="Courier" SIZE="2">
"b" 2 started at 39.66 result = 0.5
</FONT></PRE>
<P><B>public</B> <B>Behavior</B> <B>debug</B><B>(</B><BR>&nbsp;&nbsp;<B>String</B> <I>name</I><B>,</B><BR>&nbsp;&nbsp;<B>boolean</B> <I>onStart</I><B>,</B><BR>&nbsp;&nbsp;<B>PrintStream</B> <I>std</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>name</I>
 </DT><DD>The name of the behavior.
</DD><DT><I>onStart</I>
 </DT><DD>If true, the <B>debug</B> method is called when the behavior is started. If false, the method is called whenever the behavior is sampled. The default is true. 
</DD><DT><I>std</I>
 </DT><DD>The output device. The default is the standard output.
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H5>Remarks</H5>
<P>This method is unavailable to viewers that don't display the standard output.

<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010600">duration</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Creates an animation fragment by associating a local "stop time" with a behavior. The result is a new behavior that is the same as the original behavior for the length of the duration. Once the duration is over, the behavior is a snapshot of the behavior's state when the duration ended.

<P><B>public</B> <B>Behavior</B> <B>duration</B><B>(</B><BR>&nbsp;&nbsp;<B>NumberBvr</B> <I>length</I><BR>&nbsp;&nbsp;<B>)</B><BR><H5>Parameters</H5>
<DL><DT><I>length</I>
 </DT><DD>The <A HREF="DA_E0147.htm" TARGET="TEXT">NumberBvr</A> object representing the length of time, in seconds, that the duration lasts. This parameter can also be of type double.
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010700">extract</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Extracts the value of the behavior, returning a Java object. This behavior must have a constant value.

<P><B>public</B> <B>Object</B> <B>extract</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns a Java object. For more information about java.lang.Object objects, consult a Java reference.


<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010800">init</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Initializes a behavior created by the <B>newUninit</B> method.

<P><B>public</B> <B>void</B> <B>init</B><B>(</B><BR>&nbsp;&nbsp;<B>Behavior</B> <I>a</I><BR>&nbsp;&nbsp;<B>)</B><BR><H5>Parameters</H5>
<DL><DT><I>a</I>
 </DT><DD>The <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object to be initialized.
</DD></DL>
<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010900">repeat</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Creates a behavior that repeats itself the number of times specified by <I>repetitions</I>.

<P><B>public</B> <B>Behavior</B> <B>repeat</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>repetitions</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>repetitions</I>
 </DT><DD>The number of times the behavior will repeat.
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010a00">repeatForever</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Creates a behavior that repeats infinitely.

<P><B>public</B> <B>Behavior</B> <B>repeatForever</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010b00">runOnce</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Used when applications must reference a running behavior once it starts running, but don't require the application to explicitly start that behavior. The following code fragment plays 2 movies. The first movie plays from the beginning for 10 seconds. It then fades, over a 2 second interval, into a second movie. (Assume the existence of a fade method.)

<PRE><FONT FACE="Courier" SIZE="2">ImageBvr movie1Once = (ImageBvr)movie1.runOnce();
ImageBvr movie2Once = (ImageBvr)movie2.runOnce();
  until(movie1Once,
    timer(toBvr(10)),
      until(fade(div(localTime, toBvr(2)), movie1Once, movie2Once),
        timer(toBvr(2)),
          movie2Once);
</FONT></PRE>
<P><B>public</B> <B>Behavior</B> <B>runOnce</B><B>(</B> <B>)</B><B>;</B><BR><H4><HR COLOR=#0000FF><A NAME="dxmref_0001070106010c00">substituteTime</A></H4>
<A HREF="DA_E0122.htm" TARGET="TEXT">Behavior Class</A>
<P>Creates a new behavior from an existing <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> and a <A HREF="DA_E0147.htm" TARGET="TEXT">NumberBvr</A>. In the new behavior, the number behavior replaces all occurrences of localTime in the original behavior. (This includes behaviors where localTime is implicit, such as imported movies. The method can be used even if localTime isn't explicitly in the code.) This allows behaviors to be, for example, time-scaled to run faster or slower, time-shifted to start at a different time, or frozen at a particular point in time. Here are some examples:

<PRE><FONT FACE="Courier" SIZE="2">//A point moving 1 unit in x/second, starting at 0&#009;
&#009;b0 = point2(localTime, toBvr(0));

    //Create new behavior moving 0.5 units/second, 
    //by replacing localTime with localTime/2
&#009;b1 = origBvr.substituteTime(div(localTime, toBvr(2)));

    //Create new behavior moving 1 unit/second, 
    //starting at 33, by replacing localTime with localTime + 33
&#009;b2 = origBvr.substituteTime(add(localTime, toBvr(33));

    //Create new behavior moving 2 units/second, starting at 33, 
    //by replacing localTime with (localTime *2) + 33
&#009;b3 = origBvr.substituteTime(add(mul(localTime, toBvr(2)), toBvr(33));

    //Freeze the original behavior at time 77
&#009;b4 = origBvr.substituteTime(toBvr(77));

    //Tie the new behavior to the x-component of the mouse
&#009;b5 = origBvr.substituteTime(mousePosition.getX());

    //Show that replacements are cumulative. The following sequence:
&#009;c0 = point2(localTime, toBvr(0));
&#009;c1 = c0.substituteTime(add(localTime, toBvr(33)));
&#009;c2 = c1.substituteTime(mul(localTime, toBvr(2)));

    //is equivalent to:
&#009;c0.substituteTime(add(mul(localTime, toBvr(2))), toBvr(33));

</FONT></PRE>
<P><B>public</B> <B>Behavior</B> <B>substituteTime</B><B>(</B><BR>&nbsp;&nbsp;<B>NumberBvr</B> <I>a</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>a</I>
 </DT><DD>The <A HREF="DA_E0147.htm" TARGET="TEXT">NumberBvr</A> object that replaces localTime.
</DD></DL>
<H5>Return Values</H5>
<P>Returns the <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A> object.


<H3><A NAME="dxmref_0001070106020000">Relevant Methods from the Statics Class</A></H3>
<P>The following methods are defined in the <A HREF="DA_E0157.htm" TARGET="TEXT">Statics</A> class and are most relevant to objects of type <A HREF="DA_E0122.htm" TARGET="TEXT">Behavior</A>.

<P><A HREF="DA_E0158.htm#dxmref_000107012a000100" TARGET="TEXT">public static Behavior cond(BooleanBvr bool, Behavior a, Behavior b);</A>
<P><A HREF="DA_E0158.htm#dxmref_000107012a000200" TARGET="TEXT">public static Behavior sequence(Behavior a, Behavior b);</A>
<P><A HREF="DA_E0158.htm#dxmref_000107012a000300" TARGET="TEXT">public static Behavior until(Behavior a, DXMEvent e, Behavior b);</A>
<P><A HREF="DA_E0158.htm#dxmref_000107012a000400" TARGET="TEXT">public static Behavior untilEx(Behavior a, DXMEvent e);</A>
<P><A HREF="DA_E0158.htm#dxmref_000107012a000500" TARGET="TEXT">public static Behavior untilNotify(Behavior a, DXMEvent e, UntilNotifier notifier);</A> 
 
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
