<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>CCritSec Debug Functions</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0259.htm','/dssd0000.htm','/dssd0256.htm','/index.htm','/dssd0261.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="fmutil_0001060304000000">CCritSec Debug Functions</A></H2>
<BR CLEAR=ALL>
<P>The Wxutil.h header file in the DirectShow base classes provides functions to make deadlocks easier to track. It is useful to insert an assertion in the code that says whether a critical section is owned or not. The routines that do the checking are global functions to avoid having different numbers of member functions in the debug and retail class implementations of <A HREF="dssd0210.htm" TARGET="TEXT">CCritSec</A>. In addition, Wxutil.h provides a routine that enables you to trace usage of specific critical sections. Because of the large number of critical sections, this assertion defaults to off.

<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0260.htm#fmutil_0001060304000100" TARGET="TEXT">CritCheckIn</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Checks that the current thread is the owner of the given critical section.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0260.htm#fmutil_0001060304000200" TARGET="TEXT">CritCheckOut</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Checks that the current thread is not the owner of the given critical section.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0260.htm#fmutil_0001060304000300" TARGET="TEXT">DbgLockTrace</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Enables or disables debug logging of a given critical section.
</FONT></TD></TR></TABLE>
<H3><HR COLOR=#0000FF><A NAME="fmutil_0001060304000100">CritCheckIn</A></H3>
<P>Checks that the owner of <I>pcCrit</I> is the current thread.

<P><B>BOOL</B> <B>WINAPI</B> <B>CritCheckIn</B><B>(</B><BR>&nbsp;&nbsp;<B>CCritSec</B> <B>*</B> <I>pcCrit</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pcCrit</I>
 </DT><DD>Pointer to a <A HREF="dssd0210.htm" TARGET="TEXT">CCritSec</A> critical section.
</DD></DL>
<H5>Return Values</H5>
<P>Returns TRUE if the current thread is the owner of this critical section, or FALSE otherwise.

<H5>Remarks</H5>
<P>If you call this function when DEBUG is not defined and you've included the DirectShow headers, it will always return TRUE.
<H3><HR COLOR=#0000FF><A NAME="fmutil_0001060304000200">CritCheckOut</A></H3>
<P>Checks that the owner of <I>pcCrit</I> is not the current thread.

<P><B>BOOL</B> <B>WINAPI</B> <B>CritCheckOut</B><B>(</B><BR>&nbsp;&nbsp;<B>CCritSec</B> <B>*</B> <I>pcCrit</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pcCrit</I>
 </DT><DD>Pointer to a <A HREF="dssd0210.htm" TARGET="TEXT">CCritSec</A> critical section.
</DD></DL>
<H5>Return Values</H5>
<P>Returns TRUE if the current thread is not the owner of this critical section, or FALSE otherwise.

<H5>Remarks</H5>
<P>If you call this function when DEBUG is not defined and you've included the DirectShow headers, it will always return TRUE.
<H3><HR COLOR=#0000FF><A NAME="fmutil_0001060304000300">DbgLockTrace</A></H3>
<P>Enables or disables debug logging of a given critical section.

<P><B>void</B> <B>WINAPI</B> <B>DbgLockTrace</B><B>(</B><BR>&nbsp;&nbsp;<B>CCritSec</B> <B>*</B> <I>pcCrit</I><B>,</B><BR>&nbsp;&nbsp;<B>BOOL</B> <I>fTrace</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pcCrit</I>
 </DT><DD>Pointer to a <A HREF="dssd0210.htm" TARGET="TEXT">CCritSec</A> critical section.
</DD><DT><I>fTrace</I>
 </DT><DD>Set to TRUE to enable logging or FALSE to disable it.
</DD></DL>
<H5>Return Values</H5>
<P>No return value.
<H5>Remarks</H5>
<P>This function does nothing unless DEBUG is defined when the DirectShow headers are included.
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
